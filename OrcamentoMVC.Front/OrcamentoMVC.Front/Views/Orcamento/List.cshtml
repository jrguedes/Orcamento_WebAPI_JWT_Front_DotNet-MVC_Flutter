@model IEnumerable<Orcamento>
@{
    ViewData["Title"] = "Orçamentos";
}

<div class="container">
    <div class="row flex-box-center">
        <div class="col-md-offset-1 col-md-12">
            <div class="panel">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-sm-12 col-xs-12">
                            <form asp-action="NewOrcamento" method="get" class="custom-form">
                                <div class="col-lg-12 col-12 ms-auto">
                                <button type="submit" class="form-control">Adicionar novo orçamento</button>
                            </div>
                            </form>                            
                        </div>
                    </div>
                </div>
                <div class="panel-body table-responsive">
                    <table id="tb-orcamentos" name="tb-orcamentos" class="table">
                        <thead>
                            <tr>
                                <th>Código</th>
                                <th>Orçando</th>
                                <th>Data</th>
                                <th>Ação</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var orcamento in Model)
                            {
                                <tr> 
                                    <td>@orcamento.Id</td>
                                    <td>@orcamento.Descricao</td>
                                    <td>@orcamento.Data.ToString("dd/MM/yyyy hh:mm:ss")</td>
                                    <td>
                                        <a asp-action="Update" asp-route-id="@orcamento.Id" title="Editar"
                                            class="btn btn-warning">
                                            <span class="fas fa-edit"></span>
                                        </a>
                                        <a asp-action="Delete" asp-route-id="@orcamento.Id" title="Excluir"
                                            class="btn btn-danger">
                                            <span class="fas fa-trash-alt"></span>
                                        </a>
                                        <a asp-action="Details" asp-route-id="@orcamento.Id" title="Detalhes"
                                            class="btn btn-success">                                            
                                            <span class="fas fa-newspaper"></span>
                                        </a>
                                    </td>
                                </tr>
                            }                            
                        </tbody>
                    </table>
                </div>
                <div class="panel-footer">
                    <div class="row">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script>                
        var table = new DataTable('#tb-orcamentos', {
                language: {
                    url: 'https://cdn.datatables.net/plug-ins/2.1.2/i18n/pt-BR.json',
                },
                lengthMenu: [
                    [5,10],
                    [5,10]
                ]
            });

    </script>
}

